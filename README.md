# youtube-vision-classifier
# YouTube Vision Classifier

[![Python 3.8+](https://img.shields.io/badge/python-3.8+-blue.svg)](https://www.python.org/downloads/)
[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](https://opensource.org/licenses/MIT)

–£—Ç–∏–ª–∏—Ç–∞ –¥–ª—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–æ–π –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ YouTube-–≤–∏–¥–µ–æ –ø–æ –¥–≤—É–º –ø—Ä–æ–∏–∑–≤–æ–ª—å–Ω—ã–º —Ç–µ–∫—Å—Ç–æ–≤—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º. –°–∫—Ä–∏–ø—Ç –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –º—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ **GPT-4o** –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –≤–∏–¥–µ–æ–∫–∞–¥—Ä–æ–≤ –∏ **Whisper** –¥–ª—è —Ç—Ä–∞–Ω—Å–∫—Ä–∏–±–∏—Ä–æ–≤–∞–Ω–∏—è –∞—É–¥–∏–æ, —á—Ç–æ–±—ã –≤—ã–Ω–µ—Å—Ç–∏ –≤–µ—Ä–¥–∏–∫—Ç –æ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–∏ –≤–∏–¥–µ–æ –∑–∞–¥–∞–Ω–Ω—ã–º —Ç–µ–º–∞–º.
–≠—Ç–æ –ª–æ–≥–∏—á–µ—Å–∫–æ–µ –ø—Ä–æ–¥–æ–ª–∂–µ–Ω–∏–µ –∑–∞–¥–∞—á–∏ –ø–æ –ø–∞—Ä—Å–∏–Ω–≥—É –≤–∏–¥–µ–æ - [–ø–∞—Ä—Å–∏–Ω–≥ –Æ—Ç—É–±](https://autoparse.tech/kejsy/parsing-youtube/) –∏ –ø–µ—Ä–≤–∏—á–Ω–æ–π –ø—Ä–æ–≤–µ—Ä–∫–µ —Å–ø–∞—Ä—à–µ–Ω–Ω—ã—Ö –≤–∏–¥–µ–æ –Ω–∞ —Ä–µ–ª–µ–≤–∞–Ω—Ç–Ω–æ—Å—Ç—å - [–ü—Ä–æ–≤–µ—Ä–∫–∞ –º–∞—Å—Å–∏–≤–∞ –ø–æ—Å–ª–µ –ø–∞—Ä—Å–∏–Ω–≥–∞ –Æ—Ç—É–±–∞](https://autoparse.tech/kejsy/script-proverki-relevantnosti/). 
–†–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–∏:
[–ü–∞—Ä—Å–µ—Ä](https://github.com/kentavr009/Youtube-Parser)
[–ü–µ—Ä–≤–∏—á–Ω—ã–π —á–µ–∫–∫–µ—Ä](https://github.com/kentavr009/relevance_analyzer)

## –ö–ª—é—á–µ–≤—ã–µ –æ—Å–æ–±–µ–Ω–Ω–æ—Å—Ç–∏

-   **–ú—É–ª—å—Ç–∏–º–æ–¥–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑**: –û–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω–æ –∞–Ω–∞–ª–∏–∑–∏—Ä—É–µ—Ç –≤–∏–∑—É–∞–ª—å–Ω—É—é —Å–æ—Å—Ç–∞–≤–ª—è—é—â—É—é (–∫–∞–¥—Ä—ã –∏–∑ –≤–∏–¥–µ–æ) –∏ –∞—É–¥–∏–æ–¥–æ—Ä–æ–∂–∫—É (—Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç —Ä–µ—á–∏).
-   **–ì–∏–±–∫–∏–µ –∫—Ä–∏—Ç–µ—Ä–∏–∏**: –í—ã –º–æ–∂–µ—Ç–µ –∑–∞–¥–∞—Ç—å –ª—é–±—ã–µ –¥–≤–∞ –∫—Ä–∏—Ç–µ—Ä–∏—è –¥–ª—è –∫–ª–∞—Å—Å–∏—Ñ–∏–∫–∞—Ü–∏–∏ –≤ –ø—Ä–æ—Å—Ç–æ–º CSV-—Ñ–∞–π–ª–µ.
-   **–õ–æ–∫–∞–ª—å–Ω–æ–µ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ**: –°–∫–∞—á–∞–Ω–Ω—ã–µ –≤–∏–¥–µ–æ —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –ª–æ–∫–∞–ª—å–Ω–æ, —á—Ç–æ–±—ã –∏–∑–±–µ–∂–∞—Ç—å –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –∑–∞–≥—Ä—É–∑–æ–∫ –ø—Ä–∏ –ø–µ—Ä–µ–∑–∞–ø—É—Å–∫–µ –∏–ª–∏ –∞–Ω–∞–ª–∏–∑–µ –ø–æ —Ä–∞–∑–Ω—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º.
-   **–ù–∞–¥–µ–∂–Ω–æ—Å—Ç—å**: –ò—Å–ø–æ–ª—å–∑—É–µ—Ç `yt-dlp` (—Å–æ–≤—Ä–µ–º–µ–Ω–Ω—ã–π —Ñ–æ—Ä–∫ `youtube-dl`) –∏ —Ç—Ä–µ–±—É–µ—Ç –Ω–∞–ª–∏—á–∏—è **FFmpeg** –¥–ª—è –æ–±—Ä–∞–±–æ—Ç–∫–∏ –º–µ–¥–∏–∞—Ñ–∞–π–ª–æ–≤.
-   **–ü—Ä—è–º–∞—è –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å OpenAI**: –†–∞–±–æ—Ç–∞–µ—Ç —Å –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏ –≤–µ—Ä—Å–∏—è–º–∏ SDK OpenAI –¥–ª—è –¥–æ—Å—Ç—É–ø–∞ –∫ –º–æ–¥–µ–ª—è–º `gpt-4o` –∏ `whisper-1`.

## –ö–∞–∫ —ç—Ç–æ —Ä–∞–±–æ—Ç–∞–µ—Ç

–î–ª—è –∫–∞–∂–¥–æ–≥–æ –≤–∏–¥–µ–æ –≤ —Å–ø–∏—Å–∫–µ —Å–∫—Ä–∏–ø—Ç –≤—ã–ø–æ–ª–Ω—è–µ—Ç —Å–ª–µ–¥—É—é—â–∏–π –ø–∞–π–ø–ª–∞–π–Ω:

1.  üì• **–°–∫–∞—á–∏–≤–∞–Ω–∏–µ**: –ó–∞–≥—Ä—É–∂–∞–µ—Ç –≤–∏–¥–µ–æ —Å YouTube –≤ —É–∫–∞–∑–∞–Ω–Ω—É—é –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—é (–µ—Å–ª–∏ –æ–Ω–æ –Ω–µ –±—ã–ª–æ —Å–∫–∞—á–∞–Ω–æ —Ä–∞–Ω–µ–µ).
2.  üîä **–ò–∑–≤–ª–µ—á–µ–Ω–∏–µ –∞—É–¥–∏–æ**: –° –ø–æ–º–æ—â—å—é FFmpeg –∏–∑–≤–ª–µ–∫–∞–µ—Ç –∞—É–¥–∏–æ–¥–æ—Ä–æ–∂–∫—É –≤ —Ñ–æ—Ä–º–∞—Ç–µ WAV.
3.  ‚úçÔ∏è **–¢—Ä–∞–Ω—Å–∫—Ä–∏–±–∞—Ü–∏—è**: –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –∞—É–¥–∏–æ –≤ –º–æ–¥–µ–ª—å OpenAI Whisper –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è —Ç–µ–∫—Å—Ç–æ–≤–æ–≥–æ —Ç—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç–∞.
4.  üñºÔ∏è **–°—ç–º–ø–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–∞–¥—Ä–æ–≤**: –ò–∑–≤–ª–µ–∫–∞–µ—Ç 5 —Ä–µ–ø—Ä–µ–∑–µ–Ω—Ç–∞—Ç–∏–≤–Ω—ã—Ö –∫–∞–¥—Ä–æ–≤ –∏–∑ –≤–∏–¥–µ–æ.
5.  üß† **–ê–Ω–∞–ª–∏–∑**: –û—Ç–ø—Ä–∞–≤–ª—è–µ—Ç –µ–¥–∏–Ω—ã–π –∑–∞–ø—Ä–æ—Å –≤ –º–æ–¥–µ–ª—å GPT-4o, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π:
    *   –¢—Ä–∞–Ω—Å–∫—Ä–∏–ø—Ç –∞—É–¥–∏–æ.
    *   –°—ç–º–ø–ª—ã –∫–∞–¥—Ä–æ–≤.
    *   –î–≤–∞ –≤–æ–ø—Ä–æ—Å–∞, –æ—Å–Ω–æ–≤–∞–Ω–Ω—ã—Ö –Ω–∞ –≤–∞—à–∏—Ö –∫—Ä–∏—Ç–µ—Ä–∏—è—Ö.
6.  üíæ **–°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ**: –ó–∞–ø–∏—Å—ã–≤–∞–µ—Ç —Ä–µ–∑—É–ª—å—Ç–∞—Ç ("–¥–∞/–Ω–µ—Ç" –≤ –≤–∏–¥–µ 1/0) –≤ –∏—Ç–æ–≥–æ–≤—ã–π CSV-—Ñ–∞–π–ª.

## –£—Å—Ç–∞–Ω–æ–≤–∫–∞

### –®–∞–≥ 1: –°–∏—Å—Ç–µ–º–Ω—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏

–í–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º **FFmpeg**. –≠—Ç–æ –∫—Ä–∏—Ç–∏—á–µ—Å–∫–∏ –≤–∞–∂–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç.

-   **Windows**: –°–∫–∞—á–∞–π—Ç–µ —Å [–æ—Ñ–∏—Ü–∏–∞–ª—å–Ω–æ–≥–æ —Å–∞–π—Ç–∞](https://ffmpeg.org/download.html), —Ä–∞—Å–ø–∞–∫—É–π—Ç–µ –∏ –¥–æ–±–∞–≤—å—Ç–µ –ø—É—Ç—å –∫ –ø–∞–ø–∫–µ `bin` –≤ —Å–∏—Å—Ç–µ–º–Ω—É—é –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é `PATH`.
-   **macOS**: `brew install ffmpeg`
-   **Linux (Ubuntu/Debian)**: `sudo apt update && sudo apt install ffmpeg`

–ü—Ä–æ–≤–µ—Ä—å—Ç–µ, —á—Ç–æ FFmpeg –¥–æ—Å—Ç—É–ø–µ–Ω –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏:
```bash
ffmpeg -version
```
> üí° **–°–æ–≤–µ—Ç**: –ï—Å–ª–∏ –≤—ã –Ω–µ —Ö–æ—Ç–∏—Ç–µ –¥–æ–±–∞–≤–ª—è—Ç—å FFmpeg –≤ `PATH`, –º–æ–∂–Ω–æ —É–∫–∞–∑–∞—Ç—å –ø—É—Ç—å –∫ –∏—Å–ø–æ–ª–Ω—è–µ–º–æ–º—É —Ñ–∞–π–ª—É —á–µ—Ä–µ–∑ –ø–µ—Ä–µ–º–µ–Ω–Ω—É—é –æ–∫—Ä—É–∂–µ–Ω–∏—è `FFMPEG_PATH`.

### –®–∞–≥ 2: Python-–æ–∫—Ä—É–∂–µ–Ω–∏–µ

1.  –ö–ª–æ–Ω–∏—Ä—É–π—Ç–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏–π:
    ```bash
    git clone https://github.com/–í–ê–®_–ù–ò–ö/youtube-vision-classifier.git
    cd youtube-vision-classifier
    ```

2.  (–†–µ–∫–æ–º–µ–Ω–¥—É–µ—Ç—Å—è) –°–æ–∑–¥–∞–π—Ç–µ –∏ –∞–∫—Ç–∏–≤–∏—Ä—É–π—Ç–µ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–µ –æ–∫—Ä—É–∂–µ–Ω–∏–µ:
    ```bash
    python3 -m venv venv
    source venv/bin/activate  # –î–ª—è Windows: venv\Scripts\activate
    ```

3.  –£—Å—Ç–∞–Ω–æ–≤–∏—Ç–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–µ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏:
    ```bash
    pip install -r requirements.txt
    ```

## –ö–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏—è

1.  **–ö–ª—é—á API OpenAI**:
    *   **–í–∞—Ä–∏–∞–Ω—Ç –ê (—Ä–µ–∫–æ–º–µ–Ω–¥—É–µ–º—ã–π)**: –°–æ–∑–¥–∞–π—Ç–µ —Ñ–∞–π–ª `.env` –≤ –∫–æ—Ä–Ω–µ –ø—Ä–æ–µ–∫—Ç–∞ –∏ –¥–æ–±–∞–≤—å—Ç–µ –≤ –Ω–µ–≥–æ –≤–∞—à –∫–ª—é—á:
        ```
        OPENAI_API_KEY="sk-..."
        ```
        –°–∫—Ä–∏–ø—Ç –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ –ø–æ–¥—Ö–≤–∞—Ç–∏—Ç –µ–≥–æ. (–ù–µ –∑–∞–±—É–¥—å—Ç–µ –¥–æ–±–∞–≤–∏—Ç—å `.env` –≤ `.gitignore`!)
    *   **–í–∞—Ä–∏–∞–Ω—Ç –ë**: –ü–µ—Ä–µ–¥–∞–≤–∞–π—Ç–µ –∫–ª—é—á –Ω–∞–ø—Ä—è–º—É—é —á–µ—Ä–µ–∑ –∞—Ä–≥—É–º–µ–Ω—Ç –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏ `--api_key sk-...`.

2.  **–í—Ö–æ–¥–Ω–æ–π —Ñ–∞–π–ª `metadata.csv`**:
    –°–æ–∑–¥–∞–π—Ç–µ CSV-—Ñ–∞–π–ª —Å —Ç—Ä–µ–º—è –∫–æ–ª–æ–Ω–∫–∞–º–∏: `url`, `Criterion1`, `Criterion2`.
    –°–º–æ—Ç—Ä–∏—Ç–µ –ø—Ä–∏–º–µ—Ä –≤ —Ñ–∞–π–ª–µ `metadata.example.csv`.

    *–ü—Ä–∏–º–µ—Ä:*
    ```csv
    url,Criterion1,Criterion2
    https://www.youtube.com/watch?v=dQw4w9WgXcQ,"80s music","dancing"
    https://www.youtube.com/watch?v=ixn4a9aDfmI,"space exploration","SpaceX"
    ```

## –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ

–ó–∞–ø—É—Å—Ç–∏—Ç–µ —Å–∫—Ä–∏–ø—Ç –∏–∑ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏, —É–∫–∞–∑–∞–≤ –ø—É—Ç–∏ –∫ –≤–∞—à–∏–º —Ñ–∞–π–ª–∞–º –∏ –¥–∏—Ä–µ–∫—Ç–æ—Ä–∏—è–º.

```bash
python classify_videos.py ^
    --metadata metadata.csv ^
    --videos_dir videos ^
    --results_out results.csv
```
*–ó–∞–º–µ–Ω–∏—Ç–µ `^` –Ω–∞ `\` –µ—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ PowerShell –∏–ª–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª Linux/macOS.*

-   `--metadata`: –ü—É—Ç—å –∫ –≤–∞—à–µ–º—É CSV-—Ñ–∞–π–ª—É —Å URL –∏ –∫—Ä–∏—Ç–µ—Ä–∏—è–º–∏.
-   `--videos_dir`: –î–∏—Ä–µ–∫—Ç–æ—Ä–∏—è –¥–ª—è —Å–∫–∞—á–∏–≤–∞–Ω–∏—è –∏ –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏—è –≤–∏–¥–µ–æ. –ë—É–¥–µ—Ç —Å–æ–∑–¥–∞–Ω–∞ –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
-   `--results_out`: –ò–º—è —Ñ–∞–π–ª–∞ –¥–ª—è —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è —Ä–µ–∑—É–ª—å—Ç–∞—Ç–æ–≤.
-   `--api_key`: –í–∞—à –∫–ª—é—á OpenAI (–µ—Å–ª–∏ –Ω–µ –∑–∞–¥–∞–Ω –≤ `.env`).

### –†–µ–∑—É–ª—å—Ç–∞—Ç—ã

–ò—Ç–æ–≥–æ–≤—ã–π —Ñ–∞–π–ª (–Ω–∞–ø—Ä–∏–º–µ—Ä, `results.csv`) –±—É–¥–µ—Ç —Å–æ–¥–µ—Ä–∂–∞—Ç—å –∏—Å—Ö–æ–¥–Ω—ã–π URL –∏ –±–∏–Ω–∞—Ä–Ω—ã–µ –º–µ—Ç–∫–∏ –¥–ª—è –∫–∞–∂–¥–æ–≥–æ –∫—Ä–∏—Ç–µ—Ä–∏—è.

*–ü—Ä–∏–º–µ—Ä `results.csv`:*
```csv
url,label_1,label_2
https://www.youtube.com/watch?v=dQw4w9WgXcQ,1,1
https://www.youtube.com/watch?v=ixn4a9aDfmI,1,1
```

## –õ–∏—Ü–µ–Ω–∑–∏—è

–≠—Ç–æ—Ç –ø—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π MIT. –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ —Å–º–æ—Ç—Ä–∏—Ç–µ –≤ —Ñ–∞–π–ª–µ [LICENSE](LICENSE).
